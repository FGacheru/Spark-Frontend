<jw-modal id="ticket" width="30%">
    
    <p class="mb-2">CREATE REFERRAL </p>

    <form  [formGroup]="referral_form" (ngSubmit)="submitForm()">  
              

                <div class="mt-3">
                    <small>CUSTOMER NAME:</small>
                 
                   
                    

                    <ng-select formControlName="referrer_name">
                        <ng-option *ngFor="let customer of customers" [value]="customer.id">{{customer.name}}</ng-option>
                     </ng-select>
    
    
                     <!-- Loader -->
                <span class="linear-background" *ngIf="customers_loading"></span>

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['referrer_name'].invalid && (referral_form.controls['referrer_name'].dirty 
                    || referral_form.controls['referrer_name'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['referrer_name'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.referrer_name">

                    <span class="text-danger opt-value">
                    {{api_errors.referrer_name}}
                    </span>
                </div>

                </div>

                <div class="mt-3">
                    <small>PROSPECT NAME</small>
                 
                   
                    <input class="mt-2 form-control form-control-sm opt-value" type="text" formControlName="prospect_name" />
  
    
    
                     <!-- Loader -->
                <span class="linear-background" *ngIf="users_loading"></span>

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['prospect_name'].invalid && (referral_form.controls['prospect_name'].dirty 
                    || referral_form.controls['prospect_name'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['prospect_name'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.prospect_name">

                    <span class="text-danger opt-value">
                    {{api_errors.prospect_name}}
                    </span>
                </div>

                </div>


                <div class="mt-3">
                    <small>PROSPECT PHONE NUMBER</small>
                 
                   
                    <input class="mt-2 form-control form-control-sm opt-value" type="text" formControlName="prospect_phone_no" />
  
    
    
                     <!-- Loader -->
                <span class="linear-background" *ngIf="users_loading"></span>

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['prospect_phone_no'].invalid && (referral_form.controls['prospect_phone_no'].dirty 
                    || referral_form.controls['prospect_phone_no'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['prospect_phone_no'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.prospect_phone_no">

                    <span class="text-danger opt-value">
                    {{api_errors.prospect_phone_no}}
                    </span>
                </div>

                </div>


                <div class="mt-3">
                    <small>BONUS TYPE</small>
                 
                   
                   

                    <select class="form-control mt-2 mt-2  opt-value" formControlName="bonus_type">
                        <option *ngFor="let type of types" value="{{type.value}}" required>{{type.name}}</option>
                    </select>
  
    
    
                     <!-- Loader -->
                <span class="linear-background" *ngIf="users_loading"></span>

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['bonus_type'].invalid && (referral_form.controls['bonus_type'].dirty 
                    || referral_form.controls['bonus_type'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['bonus_type'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.bonus_type">

                    <span class="text-danger opt-value">
                    {{api_errors.bonus_type}}
                    </span>
                </div>

                </div>


                <div class="mt-3">
                    <small>AMOUNT</small>
                 
                   
                    <input class="mt-2 form-control form-control-sm opt-value" type="text" formControlName="amount" />
  
    
    
                     <!-- Loader -->
                <span class="linear-background" *ngIf="users_loading"></span>

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['amount'].invalid && (referral_form.controls['amount'].dirty 
                    || referral_form.controls['amount'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['amount'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.amount">

                    <span class="text-danger opt-value">
                    {{api_errors.amount}}
                    </span>
                </div>

                </div>



            <!--Date-->
            <div class="mt-3">
                <small>DATE</small>

                <input class="mt-2 form-control form-control-sm opt-value" type="date" formControlName="date" />

                <!-- Errors -->
                <div
                    *ngIf="referral_form.controls['date'].invalid && (referral_form.controls['date'].dirty 
                    || referral_form.controls['date'].touched)"
                    class="alert">
                    <div *ngIf="referral_form.controls['date'].errors.required">
                    <span class="text-danger opt-value">
                        Field is required <br>
                    </span>
                    </div>
                </div>

                <div *ngIf="api_errors.date">
                    <span class="text-danger opt-value">
                    {{api_errors.date}}
                    </span>
                </div>
            </div>

           
           

            <!--Submit Button-->
            <div class="row justify-content-end mt-4 pr-3">
                <app-default-button [outline]="true" text="Cancel" class="mr-4"(action)="cancel()" ></app-default-button>

                <app-default-button text="Submit" ></app-default-button>    
            </div>

    </form>


</jw-modal>